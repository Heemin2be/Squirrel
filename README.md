# Squirrel POS & Kiosk System

Squirrel은 Spring Boot 기반의 백엔드와 React 기반의 프론트엔드로 구성된 풀스택 POS(Point-of-Sale) 및 고객용 키오스크 시스템입니다.

## 🚀 주요 기능

### 키오스크 (고객용)
- **테이블 선택:** 고객이 주문을 시작하기 전에 테이블을 선택합니다.
- **메뉴 탐색:** 카테고리별로 메뉴를 둘러보고, 품절된 메뉴는 회색 필터 및 '품절' 표시로 구분됩니다.
- **장바구니:** 메뉴를 장바구니에 담고 수량을 조절합니다.
- **주문 생성:** 선택한 메뉴를 주문하고, 주문 완료 시 POS에 실시간으로 알림이 전송됩니다.

### POS (직원용)
- **직원 PIN 로그인:** 관리자 또는 직원 PIN을 통해 로그인하여 접근 권한을 관리합니다.
- **실시간 주문 알림:** 키오스크에서 새로운 주문이 들어오면 실시간으로 알림을 받습니다.
- **테이블 상태 관리:** 테이블별 주문 현황을 확인하고 관리합니다.
- **주문 상세 보기:** 특정 테이블의 주문 상세 내역을 확인합니다.
- **결제 처리:** 주문에 대한 결제를 처리하고, 필요시 결제를 취소합니다.

### 관리 기능 (관리자용)
- **메뉴 관리:** 메뉴를 추가, 수정, 삭제하고, 품절 상태를 토글할 수 있습니다 (키오스크에 실시간 반영).
- **직원 관리:** 직원 정보를 추가, 수정, 삭제하고 역할을 관리합니다.
- **매출 통계:** 일별, 월별 매출, 인기 메뉴 TOP N, 시간대별 주문량 등 다양한 통계를 확인합니다.

## 🛠️ 기술 스택

### 백엔드 (back_sq)
- **언어**: Java 17
- **프레임워크**: Spring Boot 3
- **보안**: Spring Security, JWT (JSON Web Token) 기반 인증
- **데이터베이스**: Spring Data JPA (기본 H2 인-메모리 DB, 프로덕션용 MySQL)
- **실시간 통신**: Spring WebSockets (STOMP)
- **빌드 도구**: Gradle

### 프론트엔드 (front_sq)
- **언어**: JavaScript (React 19)
- **번들러**: Vite
- **라우팅**: React Router DOM
- **HTTP 클라이언트**: Axios
- **실시간 통신**: `@stomp/stompjs` 라이브러리
- **UI/UX**: HTML, CSS

## ⚙️ 프로젝트 실행 방법

### 1. 전제 조건
- **JDK 17** 이상 설치 (백엔드)
- **Node.js 및 npm** 설치 (프론트엔드)

### 2. 백엔드 실행
1.  프로젝트 루트 디렉토리에서 `back_sq` 디렉토리로 이동합니다.
    ```bash
    cd back_sq
    ```
2.  백엔드 서버를 실행합니다.
    ```bash
    ./gradlew bootRun
    # 또는 Windows: gradlew.bat bootRun
    ```
    (IntelliJ IDEA 등 IDE를 사용한다면 `BackSqApplication.java` 파일의 `main` 메서드를 직접 실행할 수도 있습니다.)
3.  서버는 기본적으로 `http://localhost:8080`에서 실행됩니다.

### 3. 프론트엔드 실행
1.  새로운 터미널을 열고 프로젝트 루트 디렉토리에서 `front_sq` 디렉토리로 이동합니다.
    ```bash
    cd front_sq
    ```
2.  필요한 npm 패키지를 설치합니다.
    ```bash
    npm install
    ```
3.  프론트엔드 애플리케이션을 개발 모드로 실행합니다.
    ```bash
    npm run dev
    ```
4.  애플리케이션은 기본적으로 `http://localhost:5173`에서 실행되며, 자동으로 웹 브라우저가 열립니다.

## 📝 초기 데이터 및 기본 계정 정보

프로젝트는 `back_sq/src/main/java/com/ptproject/back_sq/config/DataInitializer.java` 파일을 통해 초기 데이터를 설정합니다. 애플리케이션 시작 시 데이터베이스가 비어 있다면, 다음 데이터로 채워집니다:

### 직원 계정
- **관리자**:
    - 이름: `관리자`
    - PIN: `0000`
    - 역할: `ROLE_ADMIN`
- **직원1**:
    - 이름: `직원1`
    - PIN: `1234`
    - 역할: `ROLE_STAFF`

### 카테고리
- 메인 요리
- 사이드
- 음료

### 메뉴
- `DataInitializer.java` 파일에 정의된 메뉴 목록 (예: 토속전, 임자탕, 비빔밥 등)이 포함됩니다. (토속전, 임자탕은 초기 품절 상태)

### 테이블
- 1번부터 8번까지 총 8개의 테이블이 생성됩니다.

## ⚠️ 중요 참고 사항

- **CORS 설정**: 현재 백엔드는 모든 출처(`*`)로부터의 요청을 허용하도록 설정되어 있습니다. 운영 환경에서는 보안을 위해 특정 도메인으로 제한해야 합니다.
- **데이터베이스**: 기본적으로 H2 인-메모리 데이터베이스를 사용하므로, 백엔드 서버가 재시작될 때마다 데이터는 초기화됩니다. 영구적인 데이터 저장이 필요하다면 `application.properties` 파일을 수정하여 MySQL 등의 외부 데이터베이스를 연결해야 합니다.